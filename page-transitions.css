/**
 * 页面切换动画样式
 * 专门解决从二级页面返回主页时的卡顿问题
 */

/* 页面切换时的全局样式 */
body {
    /* 确保页面切换时内容不会闪烁 */
    min-height: 100vh;
    overflow-x: hidden;
    /* 初始状态 */
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
}

/* 页面切换过渡效果 */
body.page-transitioning {
    /* 防止页面切换时的滚动条跳动 */
    overflow: hidden;
    /* 禁用用户交互 */
    pointer-events: none;
}

/* 返回按钮特殊样式 */
.back-button {
    transition: all 0.3s ease;
    position: relative;
    z-index: 1000;
}

.back-button:hover {
    transform: scale(1.1);
    filter: brightness(1.2);
}

.back-button:active {
    transform: scale(0.95);
}

/* 返回按钮点击时的视觉反馈 */
.back-button:focus {
    outline: 2px solid rgba(0, 123, 255, 0.5);
    outline-offset: 2px;
}

/* 页面淡出动画（返回主页时） */
.page-fade-out {
    animation: fadeOutToHome 0.6s ease-in-out forwards;
}

@keyframes fadeOutToHome {
    0% {
        opacity: 1;
        transform: translateY(0);
    }
    100% {
        opacity: 0;
        transform: translateY(-30px);
    }
}

/* 页面淡入动画（页面加载时） */
.page-fade-in {
    animation: fadeInFromHome 0.6s ease-in-out;
}

@keyframes fadeInFromHome {
    0% {
        opacity: 0;
        transform: translateY(30px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 响应式优化 */
@media (max-width: 768px) {
    /* 移动端动画时间稍短 */
    body {
        transition-duration: 0.4s;
    }
    
    .page-fade-out {
        animation-duration: 0.4s;
    }
    
    .page-fade-in {
        animation-duration: 0.4s;
    }
}

/* 减少动画（用户偏好） */
@media (prefers-reduced-motion: reduce) {
    body {
        transition: none;
    }
    
    .page-fade-out,
    .page-fade-in {
        animation: none;
    }
    
    .back-button {
        transition: none;
    }
    
    .back-button:hover {
        transform: none;
    }
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
    .back-button {
        border: 2px solid currentColor;
    }
} 